# Pentesting Fundamentals

<img width="1228" height="607" alt="image" src="https://github.com/user-attachments/assets/16565316-2a93-4037-b729-79ebc391e46c" />

---

A penetration test involves using the same tools, techniques, and methodologies that someone with malicious intent would use and is similar to an audit.

---

## Pentesting Ethics

**1. Legality and Ethics in Penetration Testing:**

**penetration testing is a legal and authorized security assessment**, conducted with explicit permission from system owners. 

Any activity outside this authorization is considered illegal.

Before an engagement begins, penetration testers and system owners formally agree on the **scope**, defining which systems, tools, and techniques are permitted. 
This agreement determines what actions are lawful during the test.

Penetration testing companies are governed by legal frameworks and professional accreditations that ensures that only approved organizations can conduct authorized tests on public sector and critical infrastructure systems.

**2. Ethics in Penetration Testing**

Ethics concerns the moral judgment of actions beyond legality. 

Even when authorized, penetration testers may encounter ethically sensitive situations—such as accessing confidential data or conducting phishing simulations. 

While these actions may be legal if agreed upon, they can still raise ethical concerns.


**3. Rules of Engagement (ROE)**

The **Rules of Engagement (ROE)** define how a penetration test is conducted and provide legal protection for all parties. 

Key components include:

* **Permission** – Explicit authorization to perform the test.
* **Test Scope** – Specifies systems and assets included in the engagement.
* **Rules** – Defines allowed and prohibited techniques (e.g., phishing, MITM attacks).


 **Hacker Classifications based on intent and ethics:**

* **White Hat** – Authorized professionals who operate legally to improve security.
* **Grey Hat** – Individuals who may act for good purposes but do not always follow legal or ethical standards.
* **Black Hat** – Criminal actors who exploit systems for personal or financial gain.



## Penetration Testing Methodologies

Penetration testing is not a rigid, step-by-step process. 
Each engagement differs in **scope, objectives, and technology**, meaning a tester must adapt their approach to fit the target environment. 
This adaptive approach is known as a **methodology**—a structured but flexible strategy for identifying and exploiting security weaknesses.

A strong methodology prioritizes **relevance over routine**. 

Methodologies provide guidance while allowing testers to adjust techniques based on context.


**The Universal Testing Methodology:**

Regardless of the framework used, most penetration tests follow a recognizable attack lifecycle:

1. **Reconnaissance (Information Gathering)**: Passive collection of publicly available information about the target, such as domains, infrastructure details, and employee data.
No direct interaction with target systems occurs at this stage.

2. **Attack Surface Discovery (Enumeration & Scanning)**:Active identification of hosts, services, applications, and exposed interfaces that may present exploitable entry points.

3. **Initial Access (Exploitation)**: Using discovered weaknesses—technical vulnerabilities or logic flaws—to gain a foothold within the target environment.

4. **Access Expansion (Privilege Escalation)**: Increasing control after compromise:

* **Horizontal movement**: accessing peer-level accounts or systems
* **Vertical escalation**: obtaining higher privileges such as admin or root

5. **Impact Assessment (Post-Exploitation)**: Evaluating the real-world consequences of compromise by:

* Pivoting to additional systems
* Extracting sensitive data
* Assessing persistence and detection
* Documenting findings for reporting


## Methodologies in Practice

**1. OSSTMM — Communication-Centric Testing** 

<img width="359" height="379" alt="image" src="https://github.com/user-attachments/assets/bb94cc7c-f50d-4381-8e00-15a4e1a1c2e9" />


The **Open Source Security Testing Methodology Manual** emphasizes how systems communicate rather than how they are built.

**Best suited for:**

* Network infrastructure
* Telecommunications
* Wireless environments

**Why it stands out:**

* Deep technical focus
* Flexible and target-agnostic
* Includes non-traditional attack surfaces

**Trade-offs:**

* Dense documentation
* Non-standard terminology

---

**2. OWASP — Web Application Security Standard**

<img width="809" height="294" alt="image" src="https://github.com/user-attachments/assets/0e9f882a-4302-4416-884c-ca9b2ebb390c" />


The industry benchmark for testing web applications and APIs.

**Core contributions:**

* OWASP Top 10 vulnerability rankings
* Clear testing and remediation guidance
* Rapid updates driven by the security community

**Strengths:**

* Easy to adopt
* Highly practical for real-world web testing
* Covers the full testing-to-remediation lifecycle

**Limitations:**

* Web-only focus
* No formal accreditation



**3. NIST CSF — Risk-Driven Security Framework**

<img width="805" height="385" alt="image" src="https://github.com/user-attachments/assets/03425f3b-e3e1-4b44-a861-fd5f4d5d863f" />


Designed to help organizations manage cybersecurity risk rather than guide exploitation.

**Primary role:**

* Aligning security controls with business risk
* Measuring organizational security maturity

**Strengths:**

* Widely adopted and regularly updated
* Highly detailed and scalable
* Supports organizational accreditation

**Limitations:**

* Limited hands-on penetration testing guidance
* Weak forensic and auditing depth
* Minimal cloud-native focus



**4. NCSC CAF — Critical Infrastructure Assessment**

<img width="485" height="152" alt="image" src="https://github.com/user-attachments/assets/385532be-2176-4af5-bfa9-5ee29a59d6b2" />


The **Cyber Assessment Framework (CAF)** is a principle-based model for evaluating cybersecurity in **essential services**.

**Focus areas include:**

* System and data security
* Access control
* Monitoring and resilience
* Incident response and recovery

**Advantages:**

* Government-backed
* Accreditation-based
* Security and response focused

**Challenges:**

* Less prescriptive than rule-based frameworks
* Still gaining widespread adoption

**Take Away**

Effective penetration testers understand multiple frameworks and apply the right principles based on the target, scope, and risk profile. 

The goal is not to follow a checklist, but to **simulate real attacker behavior while delivering measurable defensive value**.

Frameworks don’t find vulnerabilities—testers do. Methodologies exist to guide thinking, not replace it. 

At the end of the day, the goal isn’t to follow a methodology perfectly—it’s to think like the attacker the organization hopes never shows up.

---

## Scopes of testing

<img width="828" height="254" alt="image" src="https://github.com/user-attachments/assets/19b839e5-f041-495a-872c-78c71dfaa232" />

---

## Practical: ACME Penetration Testing

**Scenario:** ACME has approached you for an assignment. They want you to carry out the stages of a penetration test on their infrastructure.

Following the instruction led to getting the Flag to complete the Room:

<img width="668" height="638" alt="image" src="https://github.com/user-attachments/assets/baabdad7-473f-4c9d-b80c-4aace231855f" />
